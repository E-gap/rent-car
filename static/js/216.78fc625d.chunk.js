"use strict";(self.webpackChunkrent_car=self.webpackChunkrent_car||[]).push([[216],{5722:function(e,a,r){r.d(a,{Z:function(){return t}});var n="CarMapCharacteristic_grayBg__gGZHK",s=function(e,a){return"number"===typeof e[0]&&"down"===a?function(e,a){return a-e}:"number"===typeof e[0]&&"up"===a?function(e,a){return e-a}:"string"===typeof e[0]&&"up"===a?function(e,a){return e.localeCompare(a)}:"string"===typeof e[0]&&"down"===a?function(e,a){return a.localeCompare(e)}:void 0},i=r(184),t=function(e){var a=e.characteristics,r=e.sort,t=void 0===r?"up":r;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"",className:n,children:"Select"}),a.sort(s(a,t)).map((function(e,a){return(0,i.jsx)("option",{value:e,children:e},a)})),(0,i.jsx)("option",{value:"Else",children:"Else"})]})}},9545:function(e,a,r){r.d(a,{Z:function(){return t}});var n="ErrorComponent_errorDiv__8yNrv",s="ErrorComponent_errorMessage__UNECt",i=r(184),t=function(e){var a=e.errorText;return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("p",{className:s,children:a})})}},1216:function(e,a,r){r.r(a),r.d(a,{default:function(){return M}});var n=r(9439),s=r(9126),i="OneCarPage_oneCarPage__EyA0b",t="OneCarPage_pageRelative__dAO4f",l="OneCarPage_carPhoto__S3HqH",c="OneCarPage_mainCarInfo__dZQr9",o="OneCarPage_iconFavorite__cp3Js",d="OneCarPage_iconDelete__pGgo8",u="OneCarPage_favoriteSelected__yv8Jv",m="OneCarPage_linkGoBack__Hv0qm",p="OneCarPage_backIcon__FP9iO",x="OneCarPage_notImageIcon__9s826",f=r(2791),h=r(7689),j=r(1087),g=r(9434),b=r(8922),_=r(5147),N={form:"CarDataForm_form__9aKCX",label:"CarDataForm_label__milLt",description:"CarDataForm_description__ocXqJ",descriptionText:"CarDataForm_descriptionText__lihZK",field:"CarDataForm_field__RT6sX",errorValidation:"CarDataForm_errorValidation__qTIaZ",buttonsChanges:"CarDataForm_buttonsChanges__E5skj",uploadFile:"CarDataForm_uploadFile__s6k8J",file:"CarDataForm_file__bqV8u"},y=r(5705),C=r(5722),v=r(4346),k=r(1686),w=r.n(k),P=r(3329),Z=r(184),O=function(e){var a=e.oneCar,r=a.mark,s=a.model,i=a.price,t=a.type,l=a.year,c=a.transmission,o=a.color,d=a.mileage,u=a.engine,m=a.fueltype,p=a.power,x=a.city,h=a.tel,j=a.email,_=a.description,k=a._id,O=e.getCar,B=e.canChange,F=(0,f.useState)(null),D=(0,n.Z)(F,2),q=D[0],V=D[1],S=(0,f.useState)(!0),E=(0,n.Z)(S,2),M=E[0],T=E[1],A=(0,f.useState)(""),R=(0,n.Z)(A,2),I=R[0],G=R[1],Q=(0,g.I0)(),z=function(e){V(e.target.files[0])},H={mark:r,model:s,type:t,transmission:c,mileage:d,power:p,tel:h,year:l,color:o,fueltype:m,engine:u,city:x,email:j,price:i,description:_};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(y.J9,{initialValues:H,validationSchema:P.w,onSubmit:function(e,a){if(v.wO[e.mark].includes(e.model))if("Save changes"===I){if(!v.wO[e.mark].includes(e.model))return;var r=new FormData;r.append("mark",e.mark),r.append("model",e.model),r.append("type",e.type),r.append("transmission",e.transmission),r.append("mileage",e.mileage),r.append("power",e.power),r.append("engine",e.engine),r.append("tel",e.tel),r.append("year",e.year),r.append("color",e.color),r.append("fueltype",e.fueltype),r.append("city",e.city),r.append("email",e.email),r.append("price",e.price),r.append("description",e.description),r.append("photo",q);var n={dataCar:r,carId:k};T(!0),Q((0,b.qs)(n)),O()}else a.setValues(H);else w().Notify.failure("Please, reselect a model",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})},children:function(e){var a=e.values;return(0,Z.jsxs)(y.l0,{className:N.form,children:[(0,Z.jsxs)("label",{className:N.label,children:["Mark",(0,Z.jsx)(y.gN,{name:"mark",className:N.field,disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.wO.marks})}),(0,Z.jsx)(y.Bc,{name:"mark",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Model",(0,Z.jsx)(y.gN,{name:"model",className:N.field,disabled:!a.mark||M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:a.mark?v.wO[a.mark]:[]})}),(0,Z.jsx)(y.Bc,{name:"model",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Type",(0,Z.jsx)(y.gN,{name:"type",disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.b1})}),(0,Z.jsx)(y.Bc,{name:"type",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Year",(0,Z.jsx)(y.gN,{name:"year",disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.fi,sort:"down"})}),(0,Z.jsx)(y.Bc,{name:"year",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Transmission",(0,Z.jsx)(y.gN,{name:"transmission",disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.xl})}),(0,Z.jsx)(y.Bc,{name:"transmission",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Fuel type",(0,Z.jsx)(y.gN,{name:"fueltype",disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.dX})}),(0,Z.jsx)(y.Bc,{name:"fueltype",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Mileage",(0,Z.jsx)(y.gN,{name:"mileage",disabled:M}),(0,Z.jsx)(y.Bc,{name:"mileage",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Engine capacity",(0,Z.jsx)(y.gN,{name:"engine",disabled:M}),(0,Z.jsx)(y.Bc,{name:"engine",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Power",(0,Z.jsx)(y.gN,{name:"power",disabled:M}),(0,Z.jsx)(y.Bc,{name:"power",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Color",(0,Z.jsx)(y.gN,{name:"color",disabled:M,as:"select",children:(0,Z.jsx)(C.Z,{characteristics:v.bG})}),(0,Z.jsx)(y.Bc,{name:"color",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Price",(0,Z.jsx)(y.gN,{name:"price",disabled:M}),(0,Z.jsx)(y.Bc,{name:"price",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["City",(0,Z.jsx)(y.gN,{name:"city",disabled:M}),(0,Z.jsx)(y.Bc,{name:"city",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Email",(0,Z.jsx)(y.gN,{name:"email",disabled:M}),(0,Z.jsx)(y.Bc,{name:"email",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:N.label,children:["Tel",(0,Z.jsx)(y.gN,{name:"tel",disabled:M}),(0,Z.jsx)(y.Bc,{name:"tel",render:function(e){return(0,Z.jsx)("div",{className:N.errorValidation,children:e})}})]}),(0,Z.jsxs)("label",{className:"".concat(N.label," ").concat(N.uploadFile),children:["Upload file",(0,Z.jsx)(y.gN,{name:"photo",accept:".jpg",type:"file",className:N.file,onChange:z,disabled:M})]}),(0,Z.jsxs)("label",{className:"".concat(N.label," ").concat(N.description),children:["Description",(0,Z.jsx)(y.gN,{as:"textarea",name:"description",className:N.descriptionText,disabled:M})]}),(0,Z.jsxs)("div",{className:N.buttonsChanges,children:[(0,Z.jsx)("button",{type:"submit",className:N.buttonChangeCar,onClick:function(e){T(!M),G(e.target.textContent)},disabled:!B,children:M?"Change data":"Cancel changes"}),(0,Z.jsx)("button",{type:"submit",className:N.submit,onClick:function(e){G(e.target.textContent)},disabled:M,children:"Save changes"})]})]})}})})},B=r(6351),F=r(5700),D=r(9545),q=r(6856),V=r(5715),S=r(4523),E=r(8617),M=function(){var e,a,r=(0,f.useState)(!1),N=(0,n.Z)(r,2),y=N[0],C=N[1],v=(0,f.useState)({}),k=(0,n.Z)(v,2),P=k[0],M=k[1],T=(0,f.useState)(""),A=(0,n.Z)(T,2),R=A[0],I=A[1],G=(0,g.I0)(),Q=(0,h.s0)(),z=(0,h.UO)().id,H=(0,g.v9)(B.DJ),J=(0,g.v9)(B.c7),K=(0,g.v9)(B.Q8),W=(0,h.TH)(),X=function(){(0,b.DE)(z).then((function(e){"OK"===e.status?(I(""),M(e.data[0])):I("Something went wrong try later")}))};(0,f.useEffect)((function(){X()}),[]);var L=P.owner,U=null!==(e=null===(a=W.state)||void 0===a?void 0:a.from)&&void 0!==e?e:"/";return(0,Z.jsxs)("section",{className:i,children:[(0,Z.jsx)(F.Z,{children:R?(0,Z.jsx)(D.Z,{errorText:R}):(0,Z.jsxs)("div",{className:t,children:[(0,Z.jsxs)(j.rU,{to:U,className:m,children:[(0,Z.jsx)(E.ldB,{className:p}),"Back"]}),"null"!==P.photo?(0,Z.jsx)("img",{src:P.photo,className:l,alt:"car appearance"}):(0,Z.jsx)(s.Lwf,{className:x}),(0,Z.jsxs)("div",{className:c,children:[(0,Z.jsx)(q.Yqy,{className:H.includes(z)?"".concat(o," ").concat(u):o,onClick:function(){K?G((0,_.SB)(z)):w().Notify.failure("Please, log in to add item to favorites ",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})}}),L===J&&(0,Z.jsx)(s.dnY,{className:d,onClick:function(){C(!0)}})]}),(0,Z.jsx)(O,{oneCar:P,getCar:X,canChange:L===J})]})}),y&&(0,Z.jsx)(V.D,{setIsModalWindowOpen:C,onKeyDown:function(e){e.target.getAttribute("class").includes("backdrop")&&C(!1),"Escape"===e.code&&C(!1)},children:(0,Z.jsx)(S.Z,{textQuestion:"Are you sure you want to delete this item ?",setIsModalWindowOpen:C,handleDelete:function(){C(!1),G((0,b.tD)(z)),Q("/cars/all")}})})]})}},4346:function(e,a,r){r.d(a,{b1:function(){return s},bG:function(){return n},dX:function(){return i},fi:function(){return l},wO:function(){return c},xl:function(){return t}});var n=["Red","Black","White","Yellow","Green","Blue","Grey"],s=["Sedan","Coupe","Wagon","Hatchback"],i=["Benzin","Gas","Diesel","Electro"],t=["Manual","Automatic","Robot"];var l=function(e,a,r){for(var n=[e],s=e;s<a;)n.push(s+=r||1);return n}(1960,2023,1),c={marks:["Mercedes","BMW","Renault","Opel","Skoda","Citroen","Mazda","Peugeot","Volkswagen","Audi","Daewoo","Toyota","Ford"],BMW:["316","520"],Renault:["Clio"],Opel:["Astra","Omega"],Skoda:["Octavia","Felicia"],Else:[],Mercedes:["320E","190"],Citroen:["C4","C6","Xsara"],Mazda:["3","6","5","Miata"],Peugeot:["306","305","607","3008"],Volkswagen:["Golf","Passat","Touareg","Touran","Polo"],Audi:["100","A4","A6","QQ","Q5","Q7"],Daewoo:["Lanos","Leganza","Espero"],Toyota:["Corolla","Camry","Avalon","Auris","Avensis"],Ford:["Focus","Mondeo","Fiesta"]}},3329:function(e,a,r){r.d(a,{w:function(){return s}});var n=r(6727),s=n.Ry().shape({mark:n.Z_().required("Please input mark"),model:n.Z_().required("Please input model"),type:n.Z_().required("Please input type"),transmission:n.Z_().required("Please input transmission"),mileage:n.Rx().typeError("you must specify a number").required("Please input mileage"),power:n.Rx().typeError("you must specify a number").required("Please input power"),engine:n.Rx().typeError("you must specify a number").required("Please input engine capacity"),tel:n.Z_().required("Please input tel"),year:n.Rx().required("Please input year"),color:n.Z_().required("Please input color"),fueltype:n.Z_().required("Please input fuel type"),city:n.Z_().required("Please input city"),email:n.Z_().required("Please input email"),price:n.Rx().required("Please input price"),description:n.Z_(),photo:n.nK()})}}]);
//# sourceMappingURL=216.78fc625d.chunk.js.map