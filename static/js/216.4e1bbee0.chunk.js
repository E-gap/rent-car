"use strict";(self.webpackChunkrent_car=self.webpackChunkrent_car||[]).push([[216],{8407:function(e,a,r){r.d(a,{Z:function(){return i}});var n="CarMapCharacteristic_grayBg__gGZHK",s=r(184),i=function(e){var a=e.characteristics;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("option",{value:"",className:n,children:"Select"}),a.sort().map((function(e,a){return(0,s.jsx)("option",{value:e,children:e},a)})),(0,s.jsx)("option",{value:"Else",children:"Else"})]})}},9545:function(e,a,r){r.d(a,{Z:function(){return l}});var n="ErrorComponent_errorDiv__8yNrv",s="ErrorComponent_errorMessage__UNECt",i=r(184),l=function(e){var a=e.errorText;return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("p",{className:s,children:a})})}},1216:function(e,a,r){r.r(a),r.d(a,{default:function(){return R}});var n=r(9439),s=r(9126),i="OneCarPage_pageRelative__dAO4f",l="OneCarPage_oneCarPage__EyA0b",t="OneCarPage_carPhoto__S3HqH",c="OneCarPage_mainCarInfo__dZQr9",o="OneCarPage_iconFavorite__cp3Js",d="OneCarPage_iconDelete__pGgo8",u="OneCarPage_favoriteSelected__yv8Jv",m="OneCarPage_linkGoBack__Hv0qm",p="OneCarPage_backIcon__FP9iO",x="OneCarPage_notImageIcon__9s826",h=r(2791),j=r(7689),f=r(1087),g=r(9434),_=r(8922),b=r(5147),N=r(2985),y={form:"CarDataForm_form__9aKCX",label:"CarDataForm_label__milLt",description:"CarDataForm_description__ocXqJ",descriptionText:"CarDataForm_descriptionText__lihZK",field:"CarDataForm_field__RT6sX",errorValidation:"CarDataForm_errorValidation__qTIaZ",buttonsChanges:"CarDataForm_buttonsChanges__E5skj",uploadFile:"CarDataForm_uploadFile__s6k8J",file:"CarDataForm_file__bqV8u"},v=r(5705),C=r(8407),k=r(4346),Z=r(1686),P=r.n(Z),w=r(3329),O=r(184),B=function(e){var a=e.oneCar,r=a.mark,s=a.model,i=a.price,l=a.type,t=a.year,c=a.transmission,o=a.color,d=a.mileage,u=a.engine,m=a.fueltype,p=a.power,x=a.city,j=a.tel,f=a.email,b=a.description,N=a._id,Z=e.getCar,B=e.canChange,q=(0,h.useState)(null),S=(0,n.Z)(q,2),D=S[0],F=S[1],V=(0,h.useState)(!0),E=(0,n.Z)(V,2),M=E[0],R=E[1],T=(0,h.useState)(""),I=(0,n.Z)(T,2),G=I[0],A=I[1],H=(0,g.I0)(),J=function(e){F(e.target.files[0])},K={mark:r,model:s,type:l,transmission:c,mileage:d,power:p,tel:j,year:t,color:o,fueltype:m,engine:u,city:x,email:f,price:i,description:b};return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(v.J9,{initialValues:K,validationSchema:w.w,onSubmit:function(e,a){if(k.wO[e.mark].includes(e.model))if("Save changes"===G){if(!k.wO[e.mark].includes(e.model))return;var r=new FormData;r.append("mark",e.mark),r.append("model",e.model),r.append("type",e.type),r.append("transmission",e.transmission),r.append("mileage",e.mileage),r.append("power",e.power),r.append("engine",e.engine),r.append("tel",e.tel),r.append("year",e.year),r.append("color",e.color),r.append("fueltype",e.fueltype),r.append("city",e.city),r.append("email",e.email),r.append("price",e.price),r.append("description",e.description),r.append("photo",D);var n={dataCar:r,carId:N};R(!0),H((0,_.qs)(n)),Z()}else a.setValues(K);else P().Notify.failure("Please, reselect a model",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})},children:function(e){var a=e.values;return(0,O.jsxs)(v.l0,{className:y.form,children:[(0,O.jsxs)("label",{className:y.label,children:["Mark",(0,O.jsx)(v.gN,{name:"mark",className:y.field,disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.wO.marks})}),(0,O.jsx)(v.Bc,{name:"mark",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Model",(0,O.jsx)(v.gN,{name:"model",className:y.field,disabled:!a.mark||M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:a.mark?k.wO[a.mark]:[]})}),(0,O.jsx)(v.Bc,{name:"model",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Type",(0,O.jsx)(v.gN,{name:"type",disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.b1})}),(0,O.jsx)(v.Bc,{name:"type",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Year",(0,O.jsx)(v.gN,{name:"year",disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.fi})}),(0,O.jsx)(v.Bc,{name:"year",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Transmission",(0,O.jsx)(v.gN,{name:"transmission",disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.xl})}),(0,O.jsx)(v.Bc,{name:"transmission",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Fuel type",(0,O.jsx)(v.gN,{name:"fueltype",disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.dX})}),(0,O.jsx)(v.Bc,{name:"fueltype",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Mileage",(0,O.jsx)(v.gN,{name:"mileage",disabled:M}),(0,O.jsx)(v.Bc,{name:"mileage",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Engine capacity",(0,O.jsx)(v.gN,{name:"engine",disabled:M}),(0,O.jsx)(v.Bc,{name:"engine",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Power",(0,O.jsx)(v.gN,{name:"power",disabled:M}),(0,O.jsx)(v.Bc,{name:"power",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Color",(0,O.jsx)(v.gN,{name:"color",disabled:M,as:"select",children:(0,O.jsx)(C.Z,{characteristics:k.bG})}),(0,O.jsx)(v.Bc,{name:"color",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Price",(0,O.jsx)(v.gN,{name:"price",disabled:M}),(0,O.jsx)(v.Bc,{name:"price",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["City",(0,O.jsx)(v.gN,{name:"city",disabled:M}),(0,O.jsx)(v.Bc,{name:"city",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Email",(0,O.jsx)(v.gN,{name:"email",disabled:M}),(0,O.jsx)(v.Bc,{name:"email",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Tel",(0,O.jsx)(v.gN,{name:"tel",disabled:M}),(0,O.jsx)(v.Bc,{name:"tel",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:"".concat(y.label," ").concat(y.uploadFile),children:["Upload file",(0,O.jsx)(v.gN,{name:"photo",accept:".jpg",type:"file",className:y.file,onChange:J,disabled:M})]}),(0,O.jsxs)("label",{className:"".concat(y.label," ").concat(y.description),children:["Description",(0,O.jsx)(v.gN,{as:"textarea",name:"description",className:y.descriptionText,disabled:M})]}),(0,O.jsxs)("div",{className:y.buttonsChanges,children:[(0,O.jsx)("button",{type:"submit",className:y.buttonChangeCar,onClick:function(e){R(!M),A(e.target.textContent)},disabled:!B,children:M?"Change data":"Cancel changes"}),(0,O.jsx)("button",{type:"submit",className:y.submit,onClick:function(e){A(e.target.textContent)},disabled:M,children:"Save changes"})]})]})}})})},q=r(6351),S=r(5700),D=r(9545),F=r(6856),V=r(5715),E=r(4523),M=r(8617),R=function(){var e,a,r=(0,h.useState)(!1),y=(0,n.Z)(r,2),v=y[0],C=y[1],k=(0,h.useState)({}),Z=(0,n.Z)(k,2),w=Z[0],R=Z[1],T=(0,h.useState)(!0),I=(0,n.Z)(T,2),G=I[0],A=I[1],H=(0,h.useState)(""),J=(0,n.Z)(H,2),K=J[0],W=J[1],X=(0,g.I0)(),U=(0,j.s0)(),Y=(0,j.UO)().id,z=(0,g.v9)(q.DJ),Q=(0,g.v9)(q.c7),L=(0,g.v9)(q.Q8),$=(0,j.TH)(),ee=function(){(0,_.DE)(Y).then((function(e){A(!1),"OK"===e.status?(W(""),R(e.data[0])):W("Something went wrong try later")}))};(0,h.useEffect)((function(){ee()}),[]);var ae=w.owner,re=null!==(e=null===(a=$.state)||void 0===a?void 0:a.from)&&void 0!==e?e:"/";return(0,O.jsxs)(O.Fragment,{children:[G?(0,O.jsx)(N.Z,{}):(0,O.jsx)("div",{className:l,children:(0,O.jsx)(S.Z,{children:K?(0,O.jsx)(D.Z,{errorText:K}):(0,O.jsxs)("div",{className:i,children:[(0,O.jsxs)(f.rU,{to:re,className:m,children:[(0,O.jsx)(M.ldB,{className:p}),"Back"]}),"null"!==w.photo?(0,O.jsx)("img",{src:w.photo,className:t,alt:"car appearance"}):(0,O.jsx)(s.Lwf,{className:x}),(0,O.jsxs)("div",{className:c,children:[(0,O.jsx)(F.Yqy,{className:z.includes(Y)?"".concat(o," ").concat(u):o,onClick:function(){L?X((0,b.SB)(Y)):P().Notify.failure("Please, log in to add item to favorites ",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})}}),ae===Q&&(0,O.jsx)(s.dnY,{className:d,onClick:function(){C(!0)}})]}),(0,O.jsx)(B,{oneCar:w,getCar:ee,canChange:ae===Q})]})})}),v&&(0,O.jsx)(V.D,{setIsModalWindowOpen:C,onKeyDown:function(e){e.target.getAttribute("class").includes("backdrop")&&C(!1),"Escape"===e.code&&C(!1)},children:(0,O.jsx)(E.Z,{textQuestion:"Are you sure you want to delete this item?",setIsModalWindowOpen:C,handleDelete:function(){C(!1),X((0,_.tD)(Y)),U("/cars/all")}})})]})}},4346:function(e,a,r){r.d(a,{b1:function(){return s},bG:function(){return n},dX:function(){return i},fi:function(){return t},wO:function(){return c},xl:function(){return l}});var n=["Red","Black","White","Yellow","Green","Blue","Grey"],s=["Sedan","Coupe","Wagon","Hatchback"],i=["Benzin","Gas","Diesel","Electro"],l=["Manual","Automatic","Robot"];var t=function(e,a,r){for(var n=[e],s=e;s<a;)n.push(s+=r||1);return n}(1960,2023,1),c={marks:["Mercedes","BMW","Renault","Opel","Skoda"],BMW:["316","520"],Renault:["Clio"],Opel:["Astra","Omega"],Skoda:["Octavia","Felicia"],Else:[],Mercedes:["320E","190"]}},3329:function(e,a,r){r.d(a,{w:function(){return s}});var n=r(6727),s=n.Ry().shape({mark:n.Z_().required("Please input mark"),model:n.Z_().required("Please input model"),type:n.Z_().required("Please input type"),transmission:n.Z_().required("Please input transmission"),mileage:n.Rx().typeError("you must specify a number").required("Please input mileage"),power:n.Rx().typeError("you must specify a number").required("Please input power"),engine:n.Rx().typeError("you must specify a number").required("Please input engine capacity"),tel:n.Z_().required("Please input tel"),year:n.Rx().required("Please input year"),color:n.Z_().required("Please input color"),fueltype:n.Z_().required("Please input fuel type"),city:n.Z_().required("Please input city"),email:n.Z_().required("Please input email"),price:n.Rx().required("Please input price"),description:n.Z_(),photo:n.nK()})}}]);
//# sourceMappingURL=216.4e1bbee0.chunk.js.map