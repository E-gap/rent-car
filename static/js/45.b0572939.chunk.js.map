{"version":3,"file":"static/js/45.b0572939.chunk.js","mappings":"uLACA,EAA2B,2BAA3B,EAAgM,kC,gICoGhM,EArFiB,WACf,IAAMA,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAYF,EAAAA,EAAAA,IAAYG,EAAAA,IACxBC,GAAWC,EAAAA,EAAAA,MACXC,GAAYN,EAAAA,EAAAA,IAAYO,EAAAA,IACxBC,GAAOR,EAAAA,EAAAA,IAAYS,EAAAA,IACzB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoCC,EAAAA,EAAAA,WAAS,WAC3C,IAAMC,EAASH,EAAaI,IAAI,QAChC,OAAOD,GAAkB,CAC1B,IAHD,eAAOE,EAAP,KAAmBC,EAAnB,KAIA,GAAwBJ,EAAAA,EAAAA,WAAS,WAC/B,IADqC,EACjCK,EAAS,CAAC,EADuB,UAEVP,EAAaQ,WAFH,IAErC,2BAAmD,CAAC,IAAD,qBAAvCC,EAAuC,KAAlCC,EAAkC,KACrC,SAARD,IACFF,EAAOE,GAAOC,EAEjB,CANoC,+BAOrC,OAAOH,CACR,IARD,eAAOI,EAAP,KAAaC,EAAb,KASA,GAA4BV,EAAAA,EAAAA,WAAS,WACnC,IADyC,EACrCK,EAAS,CAAC,EAD2B,UAEdP,EAAaQ,WAFC,IAEzC,2BAAmD,CAAC,IAAD,qBAAvCC,EAAuC,KAAlCC,EAAkC,KACrC,SAARD,GAA0B,SAARA,IACpBF,EAAOE,GAAOC,EAEjB,CANwC,+BAOzC,OAAOH,CACR,IARD,eAAOM,EAAP,KAAeC,EAAf,KAUMC,GAAeC,EAAAA,EAAAA,cAAY,SAAAC,GAC/BH,EAAUG,GACVX,EAAc,EACf,GAAE,IAEGY,GAAaF,EAAAA,EAAAA,cAAY,SAAAG,GAC7BP,EAAQ,CAAED,KAAMQ,IAChBb,EAAc,EACf,GAAE,IAEGc,GAAaJ,EAAAA,EAAAA,cAAY,SAAAX,GAC7BC,EAAcD,EACf,GAAE,KAEHgB,EAAAA,EAAAA,YAAU,WACRpB,GAAgB,kBAAKY,GAAN,IAAcS,KAAMjB,GAAeM,IAClD,IAAQY,EAAWC,OAAOC,SAAlBF,OACR9B,GAASiC,EAAAA,EAAAA,IAAWH,GACrB,GAAE,CAAClB,EAAYQ,EAAQF,EAAMlB,EAAUQ,IAOxC,OACE,gBAAK0B,UAAWC,EAAhB,UACE,UAACC,EAAA,EAAD,YACE,SAACC,EAAA,EAAD,CACEZ,WAAYA,EACZH,aAAcA,EACdgB,aAXa,WACnBjB,EAAU,CAAC,GACXF,EAAQ,CAAC,EACV,IAUMxB,IAAa,SAAC4C,EAAA,EAAD,IACbzC,IAAa,SAAC0C,EAAA,EAAD,CAAgBC,UAAW3C,KACvCH,IAAcG,GAAaM,EAAKsC,OAAS,IACzC,SAACC,EAAA,EAAD,CAAUvC,KAAMA,KAEhBT,IAAcG,GAA6B,IAAhBM,EAAKsC,SAChC,cAAGR,UAAWC,EAAd,oCAGD/B,EAAKsC,OAAS,IACb,SAACE,EAAA,EAAD,CACEC,MAAO3C,EACPyB,WAAYA,EACZmB,QAASA,EAAAA,EAAAA,YACT5B,KAAMA,QAMjB,C","sources":["webpack://rent-car/./src/pages/CarsPage/CarsPage.module.css?9f93","pages/CarsPage/CarsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"carsPage\":\"CarsPage_carsPage__6oqPC\",\"carList\":\"CarsPage_carList__teU8D\",\"errorDiv\":\"CarsPage_errorDiv__nfDxF\",\"errorMessage\":\"CarsPage_errorMessage__bfu3G\",\"messageNotItems\":\"CarsPage_messageNotItems__l5B-J\"};","import css from './CarsPage.module.css';\nimport Container from 'components/Container/Container';\nimport CarsList from 'components/CarsList/CarsList';\nimport HandlePanel from 'components/HandlePanel/HandlePanel';\nimport PaginationComponent from '../../components/Pagination/PaginationComponent';\nimport { selectTotalCars } from '../../redux/selectors';\nimport { useCallback, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport options from '../../components/Pagination/options';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllCars } from '../../redux/cars/carsOperations';\nimport { selectAllCars } from '../../redux/selectors';\nimport { selectIsCarsLoading, selectCarsError } from '../../redux/selectors';\nimport Preloader from '../../components/Preloader/Preloader';\nimport ErrorComponent from '../../components/ErrorComponent/ErrorComponent';\n\nconst CarsPage = () => {\n  const isLoading = useSelector(selectIsCarsLoading);\n  const carsError = useSelector(selectCarsError);\n  const dispatch = useDispatch();\n  const totalCars = useSelector(selectTotalCars);\n  const cars = useSelector(selectAllCars);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [pageNumber, setPageNumber] = useState(() => {\n    const params = searchParams.get('page');\n    return params ? params : 1;\n  });\n  const [sort, setSort] = useState(() => {\n    let result = {};\n    for (const [key, value] of searchParams.entries()) {\n      if (key === 'sort') {\n        result[key] = value;\n      }\n    }\n    return result;\n  });\n  const [filter, setFilter] = useState(() => {\n    let result = {};\n    for (const [key, value] of searchParams.entries()) {\n      if (key !== 'sort' && key !== 'page') {\n        result[key] = value;\n      }\n    }\n    return result;\n  });\n\n  const changeFilter = useCallback(filterParam => {\n    setFilter(filterParam);\n    setPageNumber(1);\n  }, []);\n\n  const changeSort = useCallback(sortParam => {\n    setSort({ sort: sortParam });\n    setPageNumber(1);\n  }, []);\n\n  const searchPage = useCallback(pageNumber => {\n    setPageNumber(pageNumber);\n  }, []);\n\n  useEffect(() => {\n    setSearchParams({ ...filter, page: pageNumber, ...sort });\n    const { search } = window.location;\n    dispatch(getAllCars(search));\n  }, [pageNumber, filter, sort, dispatch, setSearchParams]);\n\n  const resetFilters = () => {\n    setFilter({});\n    setSort({});\n  };\n\n  return (\n    <div className={css.carsPage}>\n      <Container>\n        <HandlePanel\n          changeSort={changeSort}\n          changeFilter={changeFilter}\n          resetFilters={resetFilters}\n        />\n        {isLoading && <Preloader />}\n        {carsError && <ErrorComponent errorText={carsError} />}\n        {!isLoading && !carsError && cars.length > 0 && (\n          <CarsList cars={cars} />\n        )}\n        {!isLoading && !carsError && cars.length === 0 && (\n          <p className={css.messageNotItems}>There is not any items</p>\n        )}\n\n        {cars.length > 0 && (\n          <PaginationComponent\n            total={totalCars}\n            searchPage={searchPage}\n            options={options.carsOptions}\n            sort={sort}\n          />\n        )}\n      </Container>\n    </div>\n  );\n};\n\nexport default CarsPage;\n"],"names":["isLoading","useSelector","selectIsCarsLoading","carsError","selectCarsError","dispatch","useDispatch","totalCars","selectTotalCars","cars","selectAllCars","useSearchParams","searchParams","setSearchParams","useState","params","get","pageNumber","setPageNumber","result","entries","key","value","sort","setSort","filter","setFilter","changeFilter","useCallback","filterParam","changeSort","sortParam","searchPage","useEffect","page","search","window","location","getAllCars","className","css","Container","HandlePanel","resetFilters","Preloader","ErrorComponent","errorText","length","CarsList","PaginationComponent","total","options"],"sourceRoot":""}