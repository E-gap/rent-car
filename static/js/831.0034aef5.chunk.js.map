{"version":3,"file":"static/js/831.0034aef5.chunk.js","mappings":"wLACA,EAA+B,mCAA/B,EAAwN,sCAAxN,EAA0Q,gC,iICqG1Q,EAtFqB,WACnB,IAAMA,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAAYF,EAAAA,EAAAA,IAAYG,EAAAA,IACxBC,GAAWC,EAAAA,EAAAA,MACXC,GAAYN,EAAAA,EAAAA,IAAYO,EAAAA,IACxBC,GAAOR,EAAAA,EAAAA,IAAYS,EAAAA,IACzB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoCC,EAAAA,EAAAA,WAAS,WAC3C,IAAMC,EAASH,EAAaI,IAAI,QAChC,OAAOD,GAAkB,CAC1B,IAHD,eAAOE,EAAP,KAAmBC,EAAnB,KAIA,GAAwBJ,EAAAA,EAAAA,WAAS,WAC/B,IADqC,EACjCK,EAAS,CAAC,EADuB,UAEVP,EAAaQ,WAFH,IAErC,2BAAmD,CAAC,IAAD,qBAAvCC,EAAuC,KAAlCC,EAAkC,KACrC,SAARD,IACFF,EAAOE,GAAOC,EAEjB,CANoC,+BAOrC,OAAOH,CACR,IARD,eAAOI,EAAP,KAAaC,EAAb,KASA,GAA4BV,EAAAA,EAAAA,WAAS,WACnC,IADyC,EACrCK,EAAS,CAAC,EAD2B,UAEdP,EAAaQ,WAFC,IAEzC,2BAAmD,CAAC,IAAD,qBAAvCC,EAAuC,KAAlCC,EAAkC,KACrC,SAARD,GAA0B,SAARA,IACpBF,EAAOE,GAAOC,EAEjB,CANwC,+BAOzC,OAAOH,CACR,IARD,eAAOM,EAAP,KAAeC,EAAf,KAoBMC,GAAaC,EAAAA,EAAAA,cAAY,SAAAX,GAC7BC,EAAcD,EACf,GAAE,KAEHY,EAAAA,EAAAA,YAAU,WACRhB,GAAgB,kBAAKY,GAAN,IAAcK,KAAMb,GAAeM,IAClD,IAAQQ,EAAWC,OAAOC,SAAlBF,OACR1B,GAAS6B,EAAAA,EAAAA,IAAYH,GACtB,GAAE,CAACd,EAAYQ,EAAQF,EAAMlB,EAAUQ,IAOxC,OACE,oBAASsB,UAAWC,EAApB,UACE,UAACC,EAAA,EAAD,YACE,eAAIF,UAAWC,EAAf,wBACA,SAACE,EAAA,EAAD,CACEC,WAzBW,SAAAC,GACjBhB,EAAQ,CAAED,KAAMiB,IAChBtB,EAAc,EACf,EAuBOuB,aA/Ba,SAAAC,GACnBhB,EAAUgB,GACVxB,EAAc,EACf,EA6BOyB,aAZa,WACnBjB,EAAU,CAAC,GACXF,EAAQ,CAAC,EACV,IAWMxB,IAAa,SAAC4C,EAAA,EAAD,IACbzC,IAAa,SAAC0C,EAAA,EAAD,CAAgBC,UAAW3C,KACvCH,IAAcG,GAAaM,EAAKsC,OAAS,IACzC,SAACC,EAAA,EAAD,CAAUvC,KAAMA,KAEhBT,IAAcG,GAA6B,IAAhBM,EAAKsC,SAChC,cAAGZ,UAAWC,EAAd,oCAGD3B,EAAKsC,OAAS,IACb,SAACE,EAAA,EAAD,CACEC,MAAO3C,EACPoB,WAAYA,EACZwB,QAASA,EAAAA,EAAAA,YACT5B,KAAMA,QAMjB,C","sources":["webpack://rent-car/./src/pages/UserCarsPage/UserCarsPage.module.css?c40d","pages/UserCarsPage/UserCarsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"userCarsPage\":\"UserCarsPage_userCarsPage__bAzki\",\"carList\":\"UserCarsPage_carList__S8oIY\",\"errorDiv\":\"UserCarsPage_errorDiv__Ec0Hb\",\"errorMessage\":\"UserCarsPage_errorMessage__ZmN7g\",\"messageNotItems\":\"UserCarsPage_messageNotItems__zVkKD\",\"titlePage\":\"UserCarsPage_titlePage__kRjB6\"};","import css from './UserCarsPage.module.css';\nimport Container from 'components/Container/Container';\nimport CarsList from 'components/CarsList/CarsList';\nimport HandlePanel from 'components/HandlePanel/HandlePanel';\nimport PaginationComponent from '../../components/Pagination/PaginationComponent';\nimport { selectTotalCars } from '../../redux/selectors';\nimport { useCallback, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport options from '../../components/Pagination/options';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserCars } from '../../redux/cars/carsOperations';\nimport { selectAllCars } from '../../redux/selectors';\nimport { selectIsCarsLoading, selectCarsError } from '../../redux/selectors';\nimport Preloader from '../../components/Preloader/Preloader';\nimport ErrorComponent from '../../components/ErrorComponent/ErrorComponent';\n\nconst UserCarsPage = () => {\n  const isLoading = useSelector(selectIsCarsLoading);\n  const carsError = useSelector(selectCarsError);\n  const dispatch = useDispatch();\n  const totalCars = useSelector(selectTotalCars);\n  const cars = useSelector(selectAllCars);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [pageNumber, setPageNumber] = useState(() => {\n    const params = searchParams.get('page');\n    return params ? params : 1;\n  });\n  const [sort, setSort] = useState(() => {\n    let result = {};\n    for (const [key, value] of searchParams.entries()) {\n      if (key === 'sort') {\n        result[key] = value;\n      }\n    }\n    return result;\n  });\n  const [filter, setFilter] = useState(() => {\n    let result = {};\n    for (const [key, value] of searchParams.entries()) {\n      if (key !== 'sort' && key !== 'page') {\n        result[key] = value;\n      }\n    }\n    return result;\n  });\n\n  const changeFilter = filterParam => {\n    setFilter(filterParam);\n    setPageNumber(1);\n  };\n\n  const changeSort = sortParam => {\n    setSort({ sort: sortParam });\n    setPageNumber(1);\n  };\n\n  const searchPage = useCallback(pageNumber => {\n    setPageNumber(pageNumber);\n  }, []);\n\n  useEffect(() => {\n    setSearchParams({ ...filter, page: pageNumber, ...sort });\n    const { search } = window.location;\n    dispatch(getUserCars(search));\n  }, [pageNumber, filter, sort, dispatch, setSearchParams]);\n\n  const resetFilters = () => {\n    setFilter({});\n    setSort({});\n  };\n\n  return (\n    <section className={css.userCarsPage}>\n      <Container>\n        <h1 className={css.titlePage}>Your cars</h1>\n        <HandlePanel\n          changeSort={changeSort}\n          changeFilter={changeFilter}\n          resetFilters={resetFilters}\n        />\n        {isLoading && <Preloader />}\n        {carsError && <ErrorComponent errorText={carsError} />}\n        {!isLoading && !carsError && cars.length > 0 && (\n          <CarsList cars={cars} />\n        )}\n        {!isLoading && !carsError && cars.length === 0 && (\n          <p className={css.messageNotItems}>There is not any items</p>\n        )}\n\n        {cars.length > 0 && (\n          <PaginationComponent\n            total={totalCars}\n            searchPage={searchPage}\n            options={options.carsOptions}\n            sort={sort}\n          />\n        )}\n      </Container>\n    </section>\n  );\n};\n\nexport default UserCarsPage;\n"],"names":["isLoading","useSelector","selectIsCarsLoading","carsError","selectCarsError","dispatch","useDispatch","totalCars","selectTotalCars","cars","selectAllCars","useSearchParams","searchParams","setSearchParams","useState","params","get","pageNumber","setPageNumber","result","entries","key","value","sort","setSort","filter","setFilter","searchPage","useCallback","useEffect","page","search","window","location","getUserCars","className","css","Container","HandlePanel","changeSort","sortParam","changeFilter","filterParam","resetFilters","Preloader","ErrorComponent","errorText","length","CarsList","PaginationComponent","total","options"],"sourceRoot":""}