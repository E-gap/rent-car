"use strict";(self.webpackChunkrent_car=self.webpackChunkrent_car||[]).push([[216],{3510:function(e,a,r){r.d(a,{Z:function(){return t}});var n="CarMapCharacteristic_grayBg__gGZHK",s=function(e,a){return"number"===typeof e[0]&&"down"===a?function(e,a){return a-e}:"number"===typeof e[0]&&"up"===a?function(e,a){return e-a}:"string"===typeof e[0]&&"up"===a?function(e,a){return e.localeCompare(a)}:"string"===typeof e[0]&&"down"===a?function(e,a){return a.localeCompare(e)}:void 0},i=r(184),t=function(e){var a=e.characteristics,r=e.sort,t=void 0===r?"up":r;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"",className:n,children:"Select"}),a.sort(s(a,t)).map((function(e,a){return(0,i.jsx)("option",{value:e,children:e},a)})),(0,i.jsx)("option",{value:"Else",children:"Else"})]})}},9545:function(e,a,r){r.d(a,{Z:function(){return t}});var n="ErrorComponent_errorDiv__8yNrv",s="ErrorComponent_errorMessage__UNECt",i=r(184),t=function(e){var a=e.errorText;return(0,i.jsx)("div",{className:n,children:(0,i.jsx)("p",{className:s,children:a})})}},1216:function(e,a,r){r.r(a),r.d(a,{default:function(){return T}});var n=r(9439),s=r(9126),i="OneCarPage_oneCarPage__EyA0b",t="OneCarPage_pageRelative__dAO4f",l="OneCarPage_carPhoto__S3HqH",c="OneCarPage_mainCarInfo__dZQr9",o="OneCarPage_iconFavorite__cp3Js",d="OneCarPage_iconDelete__pGgo8",u="OneCarPage_favoriteSelected__yv8Jv",m="OneCarPage_linkGoBack__Hv0qm",p="OneCarPage_backIcon__FP9iO",x="OneCarPage_notImageIcon__9s826",f=r(2791),h=r(7689),j=r(1087),g=r(9434),b=r(8922),_=r(5147),N=r(2985),y={form:"CarDataForm_form__9aKCX",label:"CarDataForm_label__milLt",description:"CarDataForm_description__ocXqJ",descriptionText:"CarDataForm_descriptionText__lihZK",field:"CarDataForm_field__RT6sX",errorValidation:"CarDataForm_errorValidation__qTIaZ",buttonsChanges:"CarDataForm_buttonsChanges__E5skj",uploadFile:"CarDataForm_uploadFile__s6k8J",file:"CarDataForm_file__bqV8u"},C=r(5705),v=r(3510),k=r(4346),w=r(1686),P=r.n(w),Z=r(3329),O=r(184),B=function(e){var a=e.oneCar,r=a.mark,s=a.model,i=a.price,t=a.type,l=a.year,c=a.transmission,o=a.color,d=a.mileage,u=a.engine,m=a.fueltype,p=a.power,x=a.city,h=a.tel,j=a.email,_=a.description,N=a._id,w=e.getCar,B=e.canChange,F=(0,f.useState)(null),D=(0,n.Z)(F,2),q=D[0],S=D[1],V=(0,f.useState)(!0),E=(0,n.Z)(V,2),M=E[0],T=E[1],A=(0,f.useState)(""),R=(0,n.Z)(A,2),I=R[0],G=R[1],Q=(0,g.I0)(),z=function(e){S(e.target.files[0])},H={mark:r,model:s,type:t,transmission:c,mileage:d,power:p,tel:h,year:l,color:o,fueltype:m,engine:u,city:x,email:j,price:i,description:_};return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(C.J9,{initialValues:H,validationSchema:Z.w,onSubmit:function(e,a){if(k.wO[e.mark].includes(e.model))if("Save changes"===I){if(!k.wO[e.mark].includes(e.model))return;var r=new FormData;r.append("mark",e.mark),r.append("model",e.model),r.append("type",e.type),r.append("transmission",e.transmission),r.append("mileage",e.mileage),r.append("power",e.power),r.append("engine",e.engine),r.append("tel",e.tel),r.append("year",e.year),r.append("color",e.color),r.append("fueltype",e.fueltype),r.append("city",e.city),r.append("email",e.email),r.append("price",e.price),r.append("description",e.description),r.append("photo",q);var n={dataCar:r,carId:N};T(!0),Q((0,b.qs)(n)),w()}else a.setValues(H);else P().Notify.failure("Please, reselect a model",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})},children:function(e){var a=e.values;return(0,O.jsxs)(C.l0,{className:y.form,children:[(0,O.jsxs)("label",{className:y.label,children:["Mark",(0,O.jsx)(C.gN,{name:"mark",className:y.field,disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.wO.marks})}),(0,O.jsx)(C.Bc,{name:"mark",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Model",(0,O.jsx)(C.gN,{name:"model",className:y.field,disabled:!a.mark||M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:a.mark?k.wO[a.mark]:[]})}),(0,O.jsx)(C.Bc,{name:"model",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Type",(0,O.jsx)(C.gN,{name:"type",disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.b1})}),(0,O.jsx)(C.Bc,{name:"type",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Year",(0,O.jsx)(C.gN,{name:"year",disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.fi,sort:"down"})}),(0,O.jsx)(C.Bc,{name:"year",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Transmission",(0,O.jsx)(C.gN,{name:"transmission",disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.xl})}),(0,O.jsx)(C.Bc,{name:"transmission",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Fuel type",(0,O.jsx)(C.gN,{name:"fueltype",disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.dX})}),(0,O.jsx)(C.Bc,{name:"fueltype",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Mileage",(0,O.jsx)(C.gN,{name:"mileage",disabled:M}),(0,O.jsx)(C.Bc,{name:"mileage",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Engine capacity",(0,O.jsx)(C.gN,{name:"engine",disabled:M}),(0,O.jsx)(C.Bc,{name:"engine",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Power",(0,O.jsx)(C.gN,{name:"power",disabled:M}),(0,O.jsx)(C.Bc,{name:"power",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Color",(0,O.jsx)(C.gN,{name:"color",disabled:M,as:"select",children:(0,O.jsx)(v.Z,{characteristics:k.bG})}),(0,O.jsx)(C.Bc,{name:"color",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Price",(0,O.jsx)(C.gN,{name:"price",disabled:M}),(0,O.jsx)(C.Bc,{name:"price",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["City",(0,O.jsx)(C.gN,{name:"city",disabled:M}),(0,O.jsx)(C.Bc,{name:"city",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Email",(0,O.jsx)(C.gN,{name:"email",disabled:M}),(0,O.jsx)(C.Bc,{name:"email",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:y.label,children:["Tel",(0,O.jsx)(C.gN,{name:"tel",disabled:M}),(0,O.jsx)(C.Bc,{name:"tel",render:function(e){return(0,O.jsx)("div",{className:y.errorValidation,children:e})}})]}),(0,O.jsxs)("label",{className:"".concat(y.label," ").concat(y.uploadFile),children:["Upload file",(0,O.jsx)(C.gN,{name:"photo",accept:".jpg",type:"file",className:y.file,onChange:z,disabled:M})]}),(0,O.jsxs)("label",{className:"".concat(y.label," ").concat(y.description),children:["Description",(0,O.jsx)(C.gN,{as:"textarea",name:"description",className:y.descriptionText,disabled:M})]}),(0,O.jsxs)("div",{className:y.buttonsChanges,children:[(0,O.jsx)("button",{type:"submit",className:y.buttonChangeCar,onClick:function(e){T(!M),G(e.target.textContent)},disabled:!B,children:M?"Change data":"Cancel changes"}),(0,O.jsx)("button",{type:"submit",className:y.submit,onClick:function(e){G(e.target.textContent)},disabled:M,children:"Save changes"})]})]})}})})},F=r(6351),D=r(5700),q=r(9545),S=r(6856),V=r(5715),E=r(4523),M=r(8617),T=function(){var e,a,r=(0,f.useState)(!1),y=(0,n.Z)(r,2),C=y[0],v=y[1],k=(0,f.useState)({}),w=(0,n.Z)(k,2),Z=w[0],T=w[1],A=(0,f.useState)(!0),R=(0,n.Z)(A,2),I=R[0],G=R[1],Q=(0,f.useState)(""),z=(0,n.Z)(Q,2),H=z[0],J=z[1],K=(0,g.I0)(),W=(0,h.s0)(),X=(0,h.UO)().id,L=(0,g.v9)(F.DJ),U=(0,g.v9)(F.c7),Y=(0,g.v9)(F.Q8),$=(0,h.TH)(),ee=function(){(0,b.DE)(X).then((function(e){G(!1),"OK"===e.status?(J(""),T(e.data[0])):J("Something went wrong try later")}))};(0,f.useEffect)((function(){ee()}),[]);var ae=Z.owner,re=null!==(e=null===(a=$.state)||void 0===a?void 0:a.from)&&void 0!==e?e:"/";return(0,O.jsxs)(O.Fragment,{children:[I?(0,O.jsx)(N.Z,{}):(0,O.jsx)("section",{className:i,children:(0,O.jsx)(D.Z,{children:H?(0,O.jsx)(q.Z,{errorText:H}):(0,O.jsxs)("div",{className:t,children:[(0,O.jsxs)(j.rU,{to:re,className:m,children:[(0,O.jsx)(M.ldB,{className:p}),"Back"]}),"null"!==Z.photo?(0,O.jsx)("img",{src:Z.photo,className:l,alt:"car appearance"}):(0,O.jsx)(s.Lwf,{className:x}),(0,O.jsxs)("div",{className:c,children:[(0,O.jsx)(S.Yqy,{className:L.includes(X)?"".concat(o," ").concat(u):o,onClick:function(){Y?K((0,_.SB)(X)):P().Notify.failure("Please, log in to add item to favorites ",{fontSize:"15px",position:"center-center",timeout:2e3,width:"400px"})}}),ae===U&&(0,O.jsx)(s.dnY,{className:d,onClick:function(){v(!0)}})]}),(0,O.jsx)(B,{oneCar:Z,getCar:ee,canChange:ae===U})]})})}),C&&(0,O.jsx)(V.D,{setIsModalWindowOpen:v,onKeyDown:function(e){e.target.getAttribute("class").includes("backdrop")&&v(!1),"Escape"===e.code&&v(!1)},children:(0,O.jsx)(E.Z,{textQuestion:"Are you sure you want to delete this item ?",setIsModalWindowOpen:v,handleDelete:function(){v(!1),K((0,b.tD)(X)),W("/cars/all")}})})]})}},4346:function(e,a,r){r.d(a,{b1:function(){return s},bG:function(){return n},dX:function(){return i},fi:function(){return l},wO:function(){return c},xl:function(){return t}});var n=["Red","Black","White","Yellow","Green","Blue","Grey"],s=["Sedan","Coupe","Wagon","Hatchback"],i=["Benzin","Gas","Diesel","Electro"],t=["Manual","Automatic","Robot"];var l=function(e,a,r){for(var n=[e],s=e;s<a;)n.push(s+=r||1);return n}(1960,2023,1),c={marks:["Mercedes","BMW","Renault","Opel","Skoda","Citroen","Mazda","Peugeot","Volkswagen","Audi","Daewoo","Toyota","Ford"],BMW:["316","520"],Renault:["Clio"],Opel:["Astra","Omega"],Skoda:["Octavia","Felicia"],Else:[],Mercedes:["320E","190"],Citroen:["C4","C6","Xsara"],Mazda:["3","6","5","Miata"],Peugeot:["306","305","607","3008"],Volkswagen:["Golf","Passat","Touareg","Touran","Polo"],Audi:["100","A4","A6","QQ","Q5","Q7"],Daewoo:["Lanos","Leganza","Espero"],Toyota:["Corolla","Camry","Avalon","Auris","Avensis"],Ford:["Focus","Mondeo","Fiesta"]}},3329:function(e,a,r){r.d(a,{w:function(){return s}});var n=r(6727),s=n.Ry().shape({mark:n.Z_().required("Please input mark"),model:n.Z_().required("Please input model"),type:n.Z_().required("Please input type"),transmission:n.Z_().required("Please input transmission"),mileage:n.Rx().typeError("you must specify a number").required("Please input mileage"),power:n.Rx().typeError("you must specify a number").required("Please input power"),engine:n.Rx().typeError("you must specify a number").required("Please input engine capacity"),tel:n.Z_().required("Please input tel"),year:n.Rx().required("Please input year"),color:n.Z_().required("Please input color"),fueltype:n.Z_().required("Please input fuel type"),city:n.Z_().required("Please input city"),email:n.Z_().required("Please input email"),price:n.Rx().required("Please input price"),description:n.Z_(),photo:n.nK()})}}]);
//# sourceMappingURL=216.65f08ee8.chunk.js.map